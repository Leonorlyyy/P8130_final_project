---
title: "P8130_final_project"
author: "Leonor Rui"
date: "2024-12-03"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
library(tidyverse)
library(ggplot2)
library(dplyr)
library(car)
```

# Appendix

- Data Import

```{r}
survival_df = read_csv("data/Project_2_data.csv") |>
  janitor::clean_names()
```


- Data Description

```{r}
str(survival_df)
```

Numeric variables include `age`, `tumor_size`, `regional_node_examined`, `reginol_node_positive`, and `survival_months`.

These are continuous variables that can be used for our later regression analysis.

Categorical variables include `race`, `marital_status`, `t_stage`, `n_stage`, `x6th_stage`, `differentiate`, `grade`, `a_stage`, `estrogen_status`, `progesterone_status`, and `status`.

These can be converted into factors for later analysis.


```{r}
summary(survival_df)
```

The wide range of values in variables such as `tumor_size`, `regional_node_examined`, and `survival_months` indicates the need to explore relationships and their potential nonlinearities with survival, giving us a possible analytical regression model.


```{r}
colSums(is.na(survival_df))
```

We can conclude that no missing values are present in this dataset across all variables.

- Data Visualization

```{r}
survival_df |> 
  ggplot(aes(age)) + 
  geom_histogram(fill = "blue", color = "black") + 
  theme_minimal()
```

The histogram shows the age distribution of patients. Most patients are aged between 40 and 70 years. The data is well spread across middle and older age groups, making it possible for age-related analysis. Therefore, age will likely be a significant predictor for later analysis.


```{r}
ggplot(survival_df, aes(x = survival_months)) +
  geom_histogram(fill = "blue", color = "black") +
  labs(title = "Distribution of Survival Months", x = "Survival Months", y = "Density")
```



```{r}
ggplot(survival_df, aes(x = status, y = age)) +
  geom_boxplot() +
  labs(title = "Age by Survival Status", x = "Survival Status", y = "Age")
```


```{r}

```



```{r}
survival_df |> 
  group_by(race) |> 
  summarize(Count = n(), Proportion = n() / nrow(survival_df)) |> 
  knitr::kable()
```

The majority of patients in the dataset are White, accounting for approximately 84.82% of the total population. Black patients make up 7.23%, and patients classified as "Other" constitute 7.95%. This imbalance suggests that the dataset is heavily skewed towards White patients, which could influence the generalizability of the findings to other racial groups. 

